
{% extends 'home.html' %}



{% block content %}

{% load custom_filters %}

    {% if  items %}

    <main class="w-full min-h-screen bg-gray-400/20 pt-12   ">

        

        <div class="w-[1200px]  mx-auto flex justify-between">
             
             <!-- IF AUTHENTICATED -->

             
             <div  class="w-[750px] h-[500px]  ">
                <div class="w-full h-28 bg-white pl-6 flex flex-col justify-around py-4">
                 <div class="flex items-center">
                    <h1 class="font-bold text-lg opacity-75">Logged in</h1>
                    <i class="fa-solid fa-circle-check ml-4 text-gray-500"></i>
                 </div>
                 <div  class="flex font-semibold opacity-80"> 
                    <h1>{{cart.host.name}}</h1>
                    <p class="mx-4">|</p>
                    <p>{{cart.host.phone}}</p>
                 </div>
                </div>
                <div class="w-full h-36 bg-white mt-4 px-6 flex flex-col justify-around py-4">
                    <div class="flex justify-between">
                    <div class="flex items-center">
                        <h1 class="font-bold text-lg opacity-75">Delivery address</h1>
                        <i class="fa-solid fa-circle-check ml-4 text-gray-500"></i>
                     </div>
                     <button type="button" class="text-gray-500 font-bold hover:text-amber-500/80 cursor-pointer">Change</button>
                    </div>
                    <div class=" w-[450px]">
                        <h1 class="font-bold opacity-60">HOME</h1>
                        <p class="text-sm opacity-50">TC14/760, Dreamland Avenue, Kumarapuram, Thiruvananthapuram, Kerala 695033, India</p>
                    </div>
                </div>
                <div class="w-full h-52 bg-white mt-4">
                  <h1 class="font-bold text-lg opacity-75">Choose payment method</h1>
                  <div class="flex">
                    <div class="paylist bg-gray-200 h-36 mt-4 w-52 ml-4">
                    <div class="flex flex-col justify-around w-full h-full  text-sm font-bold ">
                     <h1 class="opacity-70 hover:opacity-80 cursor-pointer py-2 px-4">UPI</h1>
                     <h1 class="opacity-70 hover:opacity-80 cursor-pointer py-2 px-4">Credit & Debit cards</h1>
                     <h1 class="opacity-70 hover:opacity-80 cursor-pointer py-2 px-4 bg-white">Pay on Delivery</h1>
                    </div>
                    </div>
                    <div class="payondel w-[310px] -400 mx-3">
                       <img width="40" height="40" class="mt-4" src="https://res.cloudinary.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,h_80/PaymentLogos/instruments/4x/Cod" alt="">
                       <h1 class="font-bold opacity-80 my-3">Cash/Pay on Delivery</h1>
                       <p class=" text-sm opacity-50">Pay cash at time of delivery. You can also pay online anytime after placing order.</p>
                    </div>
                    <div class="">
                        <a href="{% url 'create-order' cart.id %}"  class="bg-gray-500 text-white text-sm font-bold px-6 py-2 rounded mt-32 ml-8 hover:bg-gray-500/80 drop-shadow-md cursor-pointer ">Place Order </a>
                    </div>
                  </div>
                </div>
             </div>
            
             
            
            
 
             <div class="w-[400px] bg-white h-[500px] ">
               
                <div class="h-[250px] overflow-y-scroll">
                    {% for item in items %}
                <div class="flex mt-4 mx-8 items-center">
                    <img src="{{item.product.image.url}}" width="70" height="70" class="rounded" alt="">
                    <h3 class="text-sm font-bold opacity-60 ml-4 ">{{item.product.title}}</h3>
                    <div class="border rounded ml-4">
                       
                       <a href="{% url 'count-decrement' item.id %}" class="cursor-pointer   text-green-500 text-center font-bold px-1 py-2">-</a>
                       
                       <span class="cursor-pointer   text-green-500 text-center font-bold px-3 py-1">{{item.quantity}}</span>
                       <a href="{% url 'count-increment' item.id %}" class="cursor-pointer text-green-500 text-center font-bold px-1 py-1">+</a>
                    </div>
                    <p class="ml-6 opacity-50 font-semibold text-sm">₹ {{item.product.price|multiply:item.quantity}} </p>
                </div>
                {% endfor %}
               
                
            </div>
                <h1 class="font-bold opacity-60 mt-6 ml-8 mb-2 ">Bill Details</h1>
                <div class="flex justify-between mx-8 mb-2 text-sm font-semibold opacity-50">
                    <p>Item Total</p>
                    <p>₹ {{item_total}}</p>
                </div>
                <div class="flex justify-between mx-8 mb-2 text-sm font-semibold opacity-50">
                    <p>Delivery Fee</p>
                    <p class="text-green-500">FREE</p>
                </div>
                <hr>
                <div class="flex justify-between mx-8 mb-8  mt-2 text-sm font-semibold opacity-50">
                    <p>Govt Taxes & Other Charges</p>
                    <p>₹ {{tax}}</p>
                </div>
                <hr class="border-t-2  border-slate-900 opacity-60">
                <div class="flex justify-between mx-8 font-bold mt-6 opacity-80">
                    <h2>TO PAY</h2>
                    <h2>₹ {{to_pay}}</h2>
                </div>
             </div>
        </div>

    </main>
    {% else %}

    <main>
        <div class="h-[calc(100vh-5rem)] w-full flex flex-col justify-center items-center -m-10">
            <img src="https://i0.wp.com/www.huratips.com/wp-content/uploads/2019/04/empty-cart.png?fit=603%2C288&ssl=1" alt="" width="400" height="400" class="opacity-90">
            <h1 class="text-xl font-bold opacity-70 mb-1">Your cart is empty</h1>
            <p class="text-base opacity-60 mb-1">You can go to product page to view more products</p>
            <a href="{% url 'user-product-view' %}" class="bg-gray-600 text-white px-8 py-2 rounded font-bold hover:bg-gray-600/90 w-96 text-center mt-8 drop-shadow-md">SEE ALL PRODUCTS</a>
        </div>
    </main>

    {% endif %}
    

<footer>
    <script src="https://cdn.tailwindcss.com"></script>
     
</footer>


{% endblock content %}